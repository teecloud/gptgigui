<div class="search-container">
  <ion-searchbar [value]="query" placeholder="Search" (ionInput)="onSearchChange($event)"></ion-searchbar>
  @if (results.length) {
    <ion-list class="results-dropdown">
      @for (r of results; track r) {
        <ion-item button (click)="selectResult(r)">
          <ion-label>{{ r.title }}</ion-label>
        </ion-item>
      }
      
    </ion-list>
  }
  <ion-button fill="clear" (click)="toggleAdvanced()">
    <ion-icon name="options-outline"></ion-icon>
  </ion-button>
</div>
@if (showAdvanced) {
<div class="advanced-options">
  <ion-item>
    <ion-input type="number" placeholder="Min Price" [(ngModel)]="options.minPrice"></ion-input>
  </ion-item>
  <ion-item>
    <ion-input type="number" placeholder="Max Price" [(ngModel)]="options.maxPrice"></ion-input>
  </ion-item>
  <ion-item>
    <ion-input type="number" placeholder="Min Rating" [(ngModel)]="options.minRating"></ion-input>
  </ion-item>
  <ion-button expand="block" (click)="emitSearch()">Apply Filters</ion-button>
</div>
}
